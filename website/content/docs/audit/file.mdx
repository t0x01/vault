---
layout: docs
page_title: File - Audit Devices
description: The "file" audit device writes audit logs to a file.
---

# File audit device

The `file` audit device writes audit logs to a file. This is a very simple audit
device: it appends logs to a file.

By default, the log file is set to rotate every 24 hours, and all older log files
are kept indefinitely.

## Examples

Enable at the default path:

```shell-session
$ vault audit enable file file_path=/var/log/vault_audit.log
```

Enable at a different path. It is possible to enable multiple copies of an audit
device:

```shell-session
$ vault audit enable -path="vault_audit_1" file file_path=/home/user/vault_audit.log
```

Enable logs on stdout. This is useful when running in a container:

```shell-session
$ vault audit enable file file_path=stdout
```

Enable log rotation every 24 hours, with a maximum of 5 older log file archives to keep:

```shell-session
$ vault audit enable file file_path=/var/log/vault_audit.log max_duration=24h max_files=5
```

Enable log rotation every 500 MB and never delete older log file archives:

```shell-session
$ vault audit enable file file_path=/var/log/vault_audit.log max_bytes=524288000 max_duration=0 max_files=0
```

Disable log rotation altogether:

```shell-session
$ vault audit enable file file_path=/var/log/vault_audit.log max_duration=0
```


## Configuration

Note the difference between `audit enable` command options and the `file` backend
configuration options. Use `vault audit enable -help` to see the command options.

The `file` audit device supports the common configuration options documented on
the [main Audit Devices page](/vault/docs/audit#common-configuration-options), and
these device-specific options:

- `file_path` `(string: <required>)` - The path to where the audit log will be
  written. If a file already exists at the given path, the audit backend will
  append to it. There are some special keywords:

  - `stdout` writes the audit log to standard output

  - `discard` discards output, instead of writing it to a device (useful in testing scenarios)

- `mode` `(string: "0600")` - A string containing an octal number representing
  the bit pattern for the file mode, similar to `chmod`. Set to `"0000"` to
  prevent Vault from modifying the file mode.

- `max_files` `(int: 0)` - The maximum number of older audit log file archives to keep.
  Defaults to `0` (no files are ever deleted). Set to `-1` to discard old audit log files
  when a new one is created.

- `max_bytes` `(int: <unset>)` - The number of bytes that should be written to an audit log file
  before it needs to be rotated. Unless specified, there is no limit to the number of bytes that
  can be written to a log file.

- `max_duration` `(string: "24h")` - The maximum duration an audit log file should be written to
  before it needs to be rotated. Must be a duration value such as `"30s"`. Defaults to `"24h"`.
  If no time unit is specified, the time duration number is assumed to be in seconds. Set to `0`
  to disable time-based log file rotation.
